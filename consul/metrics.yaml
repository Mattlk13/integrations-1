consul.dns.stale_queries:
  brief: Number of times an agent serves a DNS query with stale information
  description: Number of times an agent serves a DNS query based on information from
    a server that is more than 5 seconds out of date. This metric has the dimensions
    `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Number of Stale DNS Queries

consul.memberlist.msg.suspect:
  brief: Number of suspect messages received per interval
  description: This increments when an agent suspects another as failed when executing
    random probes as part of the gossip protocol. These can be an indicator of overloaded
    agents, network problems, or configuration errors where agents can not connect
    to each other on the required ports. This metric has the dimensions `datacenter`,
    `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Number of Suspect Messages

consul.serf.member.flap:
  brief: Tracks flapping agents
  description: This metric increments when an agent is marked dead and then recovers
    within a short time period. This can be an indicator of overloaded agents, network
    problems, or configuration errors where agents can not connect to each other on
    the required ports. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Serf Member Flaps

gauge.consul.catalog.nodes.total:
  brief: Number of nodes in the Consul datacenter
  description: The total number of nodes in the Consul datacenter. This metric is
    common to the cluster and, therefore, reported by leader only. This metric is
    reported with the dimension `datacenter`, `consul_node` name and `consul_mode`
    to indicate which mode - server or client - is the reporting consul agent.
  metric_type: gauge
  title: Number of Nodes

gauge.consul.catalog.nodes_by_service:
  brief: Number of nodes providing a given service
  description: Number of nodes providing a given service. This metric is reported
    by the leader only. The dimension `consul_service` indicates which service the
    metric corresponds too. Additionally, the metric also has the `datacenter` and
    `consul_mode` dimension.
  metric_type: gauge
  title: Number of Nodes by Service

gauge.consul.catalog.services.total:
  brief: Total number of services registered with Consul in the given datacenter
  description: The total number of services registered with Consul in the given datacenter.
    This metric is common to the cluster and, therefore, reported by leader only.
    This metric is reported with the dimension `datacenter`, `consul_node` name and
    `consul_mode` to indicate which mode - server or client - is the reporting consul
    agent.
  metric_type: gauge
  title: Number of Registered Services

gauge.consul.catalog.services_by_node:
  brief: Number of services registered with a node
  description: Number of services registered with a node. This metric is reported
    by the leader only. The dimension `consul_node` indicates which node the metric
    corresponds too. Additionally, the metric also has the `datacenter` and `consul_mode`
    dimension.
  metric_type: gauge
  title: Number of Services by Node

gauge.consul.consul.dns.domain_query.AGENT.avg:
  brief: Average time to complete a forward DNS query
  description: This tracks how long it takes to service forward DNS lookups on the
    given Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Avg Time for Forward DNS Query

gauge.consul.consul.dns.domain_query.AGENT.max:
  brief: Max time to complete a forward DNS query
  description: This tracks maximum time takes to service forward DNS lookups on the
    given Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Max Time for Forward DNS Query

gauge.consul.consul.dns.domain_query.AGENT.min:
  brief: Min time to complete a forward DNS query
  description: This tracks minimum time it takes to service forward DNS lookups on
    the given Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Min Time for Forward DNS Query

gauge.consul.consul.dns.ptr_query.AGENT.avg:
  brief: Average time to complete a Reverse DNS query
  description: This tracks average time it takes to service reverse DNS lookups on
    the given Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Average Time for Reverse DNS Query

gauge.consul.consul.dns.ptr_query.AGENT.max:
  brief: Max time to complete a Reverse DNS query
  description: This tracks maximum time it takes to service reverse DNS lookups on
    the given Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Max Time for Reverse DNS Query

gauge.consul.consul.dns.ptr_query.AGENT.min:
  brief: Min time to complete a Reverse DNS query
  description: This tracks minimum time it takes to service reverse DNS lookups on
    the given Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Min Time for Reverse DNS Query

gauge.consul.consul.leader.reconcile.avg:
  brief: Leader time to reconcile the differences between Serf membership and Consul's
    store
  description: Time it takes the leader to reconcile the differences between Serf
    membership and Consul's store. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Leader Reconcilation Time

gauge.consul.consul.rpc.query:
  brief: A general measure of all read volume
  description: A general measure of all read volume. This metric has the dimensions
    `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Number of RPC Queries

gauge.consul.health.nodes.critical:
  brief: Number of nodes for which health checks are reporting Critical state
  description: Number of nodes for which health checks are reporting Critical state.
    This metric is reported by leader only. This metric is reported with the dimension
    `datacenter`, `consul_node` name and `consul_mode`.
  metric_type: gauge
  title: Number of Critical Nodes

gauge.consul.health.nodes.passing:
  brief: Number of nodes for which health checks are reporting Passing state
  description: Number of nodes which health checks are reporting to be in Passing
    state. This metric is reported by leader only. This metric is reported with the
    dimension `datacenter`, `consul_node` name and `consul_mode`.
  metric_type: gauge
  title: Number of Passing Nodes

gauge.consul.health.nodes.warning:
  brief: Number of nodes for which health checks are reporting Warning state
  description: Number of nodes which health checks are reporting to be in Warning
    state. This metric is reported by leader only. This metric is reported with the
    dimension `datacenter`, `consul_node` name and `consul_mode`.
  metric_type: gauge
  title: Number of Warning Nodes

gauge.consul.health.services.critical:
  brief: Number of services for which health checks are reporting Critical state
  description: Number of services for which health checks are reporting Critical state.
    This metric is reported by leader only. This metric is reported with the dimension
    `datacenter`, `consul_node` name and `consul_mode`.
  metric_type: gauge
  title: Number of Critical Services

gauge.consul.health.services.passing:
  brief: Number of services for which health checks are reporting Passing state
  description: Number of services which health checks are reporting to be in Passing
    state. This metric is reported by leader only. This metric is reported with the
    dimension `datacenter`, `consul_node` name and `consul_mode`.
  metric_type: gauge
  title: Number of Passing Services

gauge.consul.health.services.warning:
  brief: Number of services for which health checks are reporting Warning state
  description: Number of services which health checks are reporting to be in Warning
    state. This metric is reported by leader only. This metric is reported with the
    dimension `datacenter`, `consul_node` name and `consul_mode`.
  metric_type: gauge
  title: Number of Warning Services

gauge.consul.is_leader:
  brief: Metric to map consul server's in leader or follower state
  description: Metric to map consul server's in leader or follower state. A follower
    instance returns value of 0 and leader returns a value of 1. Used by a Heat Map
    in the dashboard which makes recognizing the leader from followers visually easy.
    This metric comes with the dimension - `consul_server_state` which can be either
    leader or follower. Also has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Server State

gauge.consul.network.dc.latency.avg:
  brief: Average network latency between 2 datacenters
  description: Average datacenter latency between 2 datacenters. This metric has the
    additional dimension `destination_dc` dimension. The latency is calculated between
    this destination datacenter and the agent's datacenter given by the `datacenter`
    dimension. Only the leader in the source datacenter calculates this metric. The
    metric also has the dimensions `consul_mode` and `consul_node`.
  metric_type: gauge
  title: Average Datacenter Latency

gauge.consul.network.dc.latency.max:
  brief: Maximum network latency between 2 datacenters
  description: Maximum datacenter latency between 2 datacenters. This metric has the
    additional dimension `destination_dc` dimension. The latency is calculated between
    this destination datacenter and the agent's datacenter given by the `datacenter`
    dimension. Only the leader in the source datacenter calculates this metric. The
    metric also has the dimensions `consul_mode` and `consul_node`.
  metric_type: gauge
  title: Maximum Datacenter Latency

gauge.consul.network.dc.latency.min:
  brief: Minimum network latency between 2 datacenters
  description: Minimum datacenter latency between 2 datacenters. This metric has the
    additional dimension `destination_dc` dimension. The latency is calculated between
    this destination datacenter and the agent's datacenter given by the `datacenter`
    dimension. Only the leader in the source datacenter calculates this metric. The
    metric also has the dimensions `consul_mode` and `consul_node`.
  metric_type: gauge
  title: Minimum Datacenter Latency

gauge.consul.network.node.latency.avg:
  brief: Average network latency between given node and other nodes in the datacenter
  description: Average network latency between given node and other nodes in the datacenter.
    The dimension `consul_node` corresponds to the source node. The metric also has
    the dimensions `datacenter` and `consul_mode`.
  metric_type: gauge
  title: Mean Node Network Latency

gauge.consul.network.node.latency.max:
  brief: Minimum network latency between given node and other nodes in the datacenter
  description: Minimum network latency between given node and other nodes in the datacenter.
    The dimension `consul_node` corresponds to the source node. The metric also has
    the dimensions `datacenter` and `consul_mode`.
  metric_type: gauge
  title: Maximum Node Network Latency

gauge.consul.network.node.latency.min:
  brief: Minimum network latency between given node and other nodes in the datacenter
  description: Minimum network latency between given node and other nodes in the datacenter.
    The dimension `consul_node` corresponds to the source node. The metric also has
    the dimensions `datacenter` and `consul_mode`.
  metric_type: gauge
  title: Minimum Node Network Latency

gauge.consul.peers:
  brief: Number of Raft peers in Consul datacenter
  description: Number of consul Raft peers or consul agents in server mode in a given
    datacenter. This metric is reported by the leader only. This metric is reported
    with the dimension `datacenter`, `consul_node` name and `consul_mode`
  metric_type: gauge
  title: Number of Consul Peers

gauge.consul.raft.apply:
  brief: Number of raft transactions
  description: This metric is a general indicator of the write load on the Consul
    servers. This metric has the global dimensions `consul_node`, `consul_mode` and
    `datacenter`.
  metric_type: gauge
  title: Number of Raft Transactions

gauge.consul.raft.commitTime.avg:
  brief: Average of the time it takes to commit an entry on the leader
  description: This measures the mean time it takes to commit a new entry to the Raft
    log on the leader. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Average Raft Commit Time

gauge.consul.raft.commitTime.max:
  brief: Max of the time it takes to commit an entry on the leader
  description: This measures the max time it takes to commit a new entry to the Raft
    log on the leader. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Max Raft Commit Time

gauge.consul.raft.commitTime.min:
  brief: Minimum of the time it takes to commit an entry on the leader
  description: This measures the minimum time it takes to commit a new entry to the
    Raft log on the leader. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Min Raft Commit Time

gauge.consul.raft.leader.dispatchLog.avg:
  brief: Average of the time it takes for the leader to write log entries to disk
  description: This measures the mean time it takes for the leader to write log entries
    to disk. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Average Disk Commit Time

gauge.consul.raft.leader.dispatchLog.max:
  brief: Maximum of the time it takes for the leader to write log entries to disk
  description: This measures the maximum time it takes for the leader to write log
    entries to disk. This metric has the dimensions `datacenter`, `consul_node` and
    `consul_mode`.
  metric_type: gauge
  title: Max Disk Commit Time

gauge.consul.raft.leader.dispatchLog.min:
  brief: Minimum of the time it takes for the leader to write log entries to disk
  description: This measures the minimum time it takes for the leader to write log
    entries to disk. This metric has the dimensions `datacenter`, `consul_node` and
    `consul_mode`.
  metric_type: gauge
  title: Min Disk Commit Time

gauge.consul.raft.leader.lastContact.avg:
  brief: Mean of the time since the leader was last able to contact follower nodes
  description: This measures the time since the leader was last able to contact the
    follower nodes when checking its leader lease. It can be used as a measure for
    how stable the Raft timing is and how close the leader is to timing out its lease.
    This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Average Leader Last Contact

gauge.consul.raft.leader.lastContact.max:
  brief: Max of the time since the leader was last able to contact follower nodes
  description: This measures the maximum time since the leader was last able to contact
    the follower nodes when checking its leader lease. It can be used as a measure
    for how stable the Raft timing is and how close the leader is to timing out its
    lease. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Max Leader Last Contact

gauge.consul.raft.leader.lastContact.min:
  brief: Min of the time since the leader was last able to contact follower nodes
  description: This measures the minimum time since the leader was last able to contact
    the follower nodes when checking its leader lease. It can be used as a measure
    for how stable the Raft timing is and how close the leader is to timing out its
    lease. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Min Leader Last Contact

gauge.consul.raft.replication.appendEntries.rpc.AGENT.avg:
  brief: Mean time taken to complete the AppendEntries RPC
  description: This measures the time it takes to replicate log entries to followers.
    This is a general indicator of the load pressure on the Consul servers, as well
    as the performance of the communication between the servers. This metric is sent
    by the leader for each follower. The metric has the followers ip or hostname added
    to the metric name. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Average Time to Append Entries

gauge.consul.raft.replication.appendEntries.rpc.AGENT.max:
  brief: Max time taken to complete the AppendEntries RPC
  description: This measures the maximum time it takes to replicate log entries to
    followers. This is a general indicator of the load pressure on the Consul servers,
    as well as the performance of the communication between the servers. This metric
    is sent by the leader for each follower. The metric has the followers ip or hostname
    added to the metric name. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Max Time to Append Entries

gauge.consul.raft.replication.appendEntries.rpc.AGENT.min:
  brief: Min time taken to complete the AppendEntries RPC
  description: This measures the minimum time it takes to replicate log entries to
    followers. This is a general indicator of the load pressure on the Consul servers,
    as well as the performance of the communication between the servers. This metric
    is sent by the leader for each follower. The metric has the followers ip or hostname
    added to the metric name. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Min Time to Append Entries

gauge.consul.raft.state.candidate:
  brief: Tracks the number of times given node enters the candidate state
  description: Tracks the number of times given node enters the candidate state, i.e.,
    the number of times the Consul server starts a leader election. If this increments
    without a leadership change occurring it could indicate that a single server is
    overloaded or is experiencing network connectivity issues. This metric has the
    dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Raft Candidate State

gauge.consul.raft.state.leader:
  brief: Tracks the number of leadership transitions per interval
  description: This metric increments whenever a Consul server becomes a leader. If
    there are frequent leadership changes this may be indication that the servers
    are overloaded and aren't meeting the soft real-time requirements for Raft, or
    that there are networking problems between the servers. This metric has the dimensions
    `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Leadership Transitions

gauge.consul.runtime.alloc_bytes:
  brief: Number of bytes allocated to Consul process on the node
  description: Number of bytes allocated to Consul process on the node. This metric
    has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Allocated Bytes

gauge.consul.runtime.heap_objects:
  brief: Number of heap objects allocated to Consul
  description: Number of heap objects allocated to Consul, indicates memory pressure
    on a Consul agent. This metric has the dimensions `datacenter`, `consul_node`
    and `consul_mode`.
  metric_type: gauge
  title: Number of Heap Objects

gauge.consul.runtime.num_goroutines:
  brief: Number of GO routines run by Consul process
  description: Number of GO routines run by Consul process on the node. Gives the
    general load pressure indicator for Consul agent. This metric has the dimensions
    `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Number of GO routines

gauge.consul.serf.events:
  brief: Number of serf events processed
  description: Number of serf events processed by Consul. This metric has the dimensions
    `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Number of Serf Events

gauge.consul.serf.member.join:
  brief: Tracks successful node joins
  description: This metric tracks successful node joins to the Serf memberlist. This
    metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Member Joins

gauge.consul.serf.member.left:
  brief: Tracks successful node leaves
  description: This metric tracks successful node leaves to the Serf memberlist. This
    metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Member Leaves

gauge.consul.serf.queue.Event.avg:
  brief: Average number of serf events in queue yet to be processed
  description: Average number of serf events in queue yet to be processed by Consul
    agent. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Avg Number of Serf Events in Queue

gauge.consul.serf.queue.Event.max:
  brief: Maximum number of serf events in queue yet to be processed during the interval
  description: Maximum number of serf events in queue yet to be processed by Consul
    agent. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Maximum Number of Serf Events in Queue

gauge.consul.serf.queue.Event.min:
  brief: Minimum number of serf events in queue yet to be processed during the interval
  description: Minimum number of serf events in queue yet to be processed by Consul
    agent. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Minimum Number of Serf Events in Queue

gauge.consul.serf.queue.Query.avg:
  brief: Average number of serf queries in queue yet to be processed during the interval
  description: Average number of serf queries in queue yet to be processed by Consul
    agent. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Average Number of Serf Queries in Queue

gauge.consul.serf.queue.Query.max:
  brief: Maximum number of serf queries in queue yet to be processed during the interval
  description: Maximum number of serf queries in queue yet to be processed by Consul
    agent. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Maximum Number of Serf Queries in Queue

gauge.consul.serf.queue.Query.min:
  brief: Minimum number of serf queries in queue yet to be processed during the interval
  description: Minimum number of serf queries in queue yet to be processed by Consul
    agent. This metric has the dimensions `datacenter`, `consul_node` and `consul_mode`.
  metric_type: gauge
  title: Minimum Number of Serf Queries in Queue

